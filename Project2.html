<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My FaceBook Home</title>
    <link rel="icon" href="timg.jpg">
    <link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="bootstrap-fileinput.css">
    <script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <style type="text/css">
        .con{
            width: 90%;
            min-height: 300px;
            max-height: 700px;
        }
        #change_form{
            display: none;
        }
    </style>
</head>
<body onload="getcname()">
<!-- sidebar -->
<div class="sidebar-fixed-left sidebar-offcanvas" id="sidebar" style="width: 15%; height: 100%; margin-top: 30px; background-color: #444444;  position: fixed; z-index: 5;">

    <ul class="nav">
        <img class="img-circle" src="info_img.jpg" style="position: fixed; left: 10px; top: 60px; width: 80px; height: 80px; "/>
        <span id="username" style="color: white; position: fixed; left: 110px; top: 90px;">
           username
        </span>
        <!--<li><a href="#" data-toggle="offcanvas" class="visible-xs text-center"><i class="glyphicon glyphicon-chevron-right"></i></a></li>-->
    </ul>

    <ul class="nav hidden-xs" style="position: fixed; top: 150px; width: 15%;">
        <li class="active"><a href="#featured"><i class="glyphicon glyphicon-list-alt"></i> Featured</a></li>
        <li><a href="#story"><i class="glyphicon glyphicon-list"></i> Stories</a></li>
        <li><a href="Project2.html"><i class="glyphicon glyphicon-refresh"></i> Refresh</a></li>
    </ul>
    <ul class="list-unstyled hidden-xs"  style="position: fixed; bottom: 5%;">
        <li>
           <img src="icon2.jpg" style="width: 15px;height: 15px;position:fixed;  left: 0px; margin-top: 10px;"> <h4 style="position: fixed; left: 17px; color: aliceblue;">Facebook</h4>
        </li>
    </ul>
</div>

<!--navbar-->
<div class="navbar navbar-blue navbar-fixed-top" style="background-color: #eee;">
    <div class="navbar-header">
        <a href="http://localhost:63342/WebTest/.idea/MyProject/Project1.html" class="navbar-brand logo">F</a>
    </div>
    <nav class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
            <li>
                <a href="#" data-toggle="modal" data-target="#Profile"><i class="glyphicon glyphicon-user"></i> Profile</a>
            </li>
            <li>
                <a href="#"><i class="glyphicon glyphicon-home"></i> Home</a>
            </li>
            <li>
                <a href="#mypost" role="button"><i class="glyphicon glyphicon-plus"></i> Post</a>
            </li>
            <li>
                <a href="#" data-toggle="modal" data-target="#Badge"><span class="badge">badge</span></a>
            </li>
        </ul>
    </nav>
</div>

<!--content-->
<div style="position:absolute; width: 35%; left: 15%; top: 10%;">
    <!--Recent Visiters-->
    <div class="well" style="width: 40%; height: 520px; position: absolute; left: 65% ">
        <h4>Recent Visiters: </h4>
        <img class="img-circle" src="avatar2.jpg" style="width: 50px; height: 50px;"> Fed
        <br>
        <a>88 followers</a>
        <br>
        <br>
        <img class="img-circle" src="avatar3.jpg" style="width: 50px; height: 50px;"> Yale
        <br>
        <a>103 followers</a>
        <br>
        <br>
        <img class="img-circle" src="avatar1.jpg" style="width: 50px; height: 50px;"> Brand
        <br>
        <a>56 followers</a>
        <br>
        <br>
        <img class="img-circle" src="avatar4.jpg" style="width: 50px; height: 50px;"> Razer
        <br>
        <a>88 followers</a>
        <br>
        <br>
        <img class="img-circle" src="avatar5.jpg" style="width: 50px; height: 50px;"> God
        <br>
        <a>123 followers</a>
        <br>
        ...
    </div>

    <!--my info-->
    <div class="well" style="width: 55%; height: 200px; margin-left: 5%; ">
        <img class="img-circle" src="info_img.jpg" style="width: 80px; height: 80px;">
        <span id="contentname"></span>
        <br>
        <br>
        <a>43 followers</a>
    </div>

    <!--followers-->
    <div class="well" style="width: 55%; height: 300px; margin-left: 5%;">
        <h4>Followers: </h4>
        <img class="img-circle" src="avatar1.jpg" style="width: 50px; height: 50px;"> Brand
        <br>
        <a>56 followers</a>
        <br>
        <img class="img-circle" src="avatar2.jpg" style="width: 50px; height: 50px;"> Fed
        <br>
        <a>88 followers</a>
        <br>
        <img class="img-circle" src="avatar3.jpg" style="width: 50px; height: 50px;"> Yale
        <br>
        <a>103 followers</a>
        <br>
        ...
    </div>

    <!--post-->
    <div class="well" id="mypost" style="width: 100%; height: 500px; margin-left: 5%; ">
        <h4>What's new today?</h4>
        <textarea class="form-control" id="postcontent" placeholder="Post something enjoyable!" aria-describedby="sizing-addon1"style="height: 40%"></textarea>
        <br>
        <br>
        <button type="button" class="btn btn-primary" style="float: right;" onclick="post()" >Post</button>
        <!--<a href="#" data-toggle="modal" data-target="#upimage"><i class="glyphicon glyphicon-camera"></i></a>-->
        <!--<img id="uploadimage"></img>-->
    </div>
</div>

<!--right post-->
<div id="allpost" style="position:absolute; width: 45%; left: 55%; top: 10%;">
    <div class="well con" >
        <img class="img-circle" src="avatar1.jpg" style="width: 50px; height: 50px;"> Brand
        <br>
        <a>56 followers</a>
        <hr>
        Academic research on correcting misinformation has shown that putting a strong image, like a red flag, next to an article may actually entrench deeply held beliefs – the opposite effect to what we intended. Related Articles, by contrast, are simply designed to give more context, which our research has shown is a more effective way to help people get to the facts. Indeed, we’ve found that when we show Related Articles next to a false news story, it leads to fewer shares than when the Disputed Flag is shown.
    </div>
    <div class="well con" >
        <img class="img-circle" src="info_img.jpg" style="width: 50px; height: 50px;"> <span id="posname"> user name</span>
        <br>
        <a>43 followers</a>
        <hr>
        Merry Chrismas!!!
    </div>
    <div class="well con" id="story">
        <img class="img-circle" src="avatar2.jpg" style="width: 50px; height: 50px;"> Fed
        <br>
        <a>56 followers</a>
        <br>
        #story
        <hr>
        Come one, come all! Have we got a STORY for you. A spectacle for kids of all ages, a world of untold wonder, a place where we all belong…it’s Home for The Holidays, our “something for everyone” gift shop experience inspired by The Greatest Showman, the new big-screen musical that celebrates the life of P.T. Barnum. The original ringmaster, Barnum saw the circus as a family that welcomed anyone willing to suspend belief—and with that, we invite you to step right up and venture inside our very own Big Top, a circus-themed fantasyland designed by another impresario, David Stark.
    </div>
    <div class="well con" id="featured">
        <img class="img-circle" src="avatar3.jpg" style="width: 50px; height: 50px;"> Yale
        <br>
        <a>103 followers</a>
        <br>
        #featured
        <hr>
        My Christmas miracle came in a highball glass filled with ice and equal parts rum and mai tai mix. At the time, it was clear that the drink had done what it was supposed to do as far as loosening up my husband Mtume (I have proof), but it wasn’t until recently that I came to understand the miracle that had slowly unfolded.
    </div>

</div>

<!--Profile-->
<div class="modal fade" id="Profile" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">My Profile</h4>
            </div>
            <div class="modal-body">
                <img class="img-circle" src="info_img.jpg" style="width: 80px; height: 80px;">
                <br>
                <br>
                Name: <span id="profilename"></span>
                <br>
                <br>
                Mail: <span id="profilmail"></span>
                <br>
                <br>
                <br>
                <a href="#" class="btn btn-warning" id="change_btn">Change Profile Info</a>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>

<!--Change Profile-->
<div id="change_form" style="top: 150px; width: 22%; height: 420px;  position: absolute; left: 45%; ">
    <div class="well"  style="border-right:1px solid #ddd; width: 100%; height: 100%;">
        <div  style="margin-bottom:20px;">
            <h3>Change Profile</h3>
        </div>
        <div >
            <div class="input-group input-group-md" style="margin-bottom: 15px">
                <span class="input-group-addon" ><i class="glyphicon glyphicon-user" aria-hidden="true"></i></span>
                <input type="text" class="form-control" id="iname" placeholder="User Name" aria-describedby="sizing-addon1" onblur="changeName()">
            </div>
            <span id="userinfor"></span>
        </div>

        <div >
            <div class="input-group input-group-md" style="margin-bottom: 15px">
                <span class="input-group-addon" ><i class="glyphicon glyphicon-lock"></i></span>
                <input type="password" class="form-control" id="ipass" placeholder="Password" aria-describedby="sizing-addon1" onblur="changepass()">
            </div>
            <span id="passwordinfo"></span>
        </div>

        <div >
            <div class="input-group input-group-md" style="margin-bottom: 15px">
                <span class="input-group-addon" ><i class="glyphicon glyphicon-lock"></i></span>
                <input type="password" class="form-control" id="icpass" placeholder="Check Password" aria-describedby="sizing-addon1" onblur="changePw()">
            </div>
            <span id="passwordinf"></span>
        </div>

        <div >
            <div class="input-group input-group-md" style="margin-bottom: 15px">
                <span class="input-group-addon" ><i class="glyphicon glyphicon-envelope"></i></span>
                <input type="email" class="form-control" id="imail" placeholder="Mail" aria-describedby="sizing-addon1" onblur="changeMail()">
            </div>
            <span id="mailinfo"></span>
        </div>

        <div style="margin-bottom: 15px">
            <input type="submit" class="btn btn-success pull-left" value="Change" onclick="rCheckAll()"/>
            <input type="submit" class="btn btn-success pull-right" value="Cancel" onclick="closechange()"/>
        </div>
    </div>
</div>

<!--Badge-->
<div class="modal fade" id="Badge" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" style="width: 50%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">My Badge</h4>
            </div>
            <div class="modal-body">
                <img src="badge.png">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>

<!--upload image file-->
<!--<div class="modal fade" id="upimage" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">-->
    <!--<div class="modal-dialog">-->
        <!--<div class="modal-content">-->
            <!--<div class="modal-header">-->
                <!--<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>-->
                <!--<h4 class="modal-title" id="myModalLabel">Upload Image</h4>-->
            <!--</div>-->
            <!--<div class="modal-body">-->
                <!--asdfasdf-->
            <!--</div>-->
            <!--</div>-->
        <!--</div>&lt;!&ndash; /.modal-content &ndash;&gt;-->
    <!--</div>&lt;!&ndash; /.modal &ndash;&gt;-->
<!--</div>-->

<!--footer-->
<div style="position: fixed; width: 100%;  bottom: 0px; ">
    <hr>
    <footer style="float: right">
        <p> &copy; Facebook Company 2017</p>
    </footer>
</div>

<script type="text/javascript" src="bootstrap-fileinput.js"></script>
<script>
    function getcname() {
        document.getElementById("username").innerHTML=localStorage.getItem("Username")
        document.getElementById("contentname").innerHTML=document.getElementById("username").innerHTML
        document.getElementById("posname").innerHTML=document.getElementById("username").innerHTML
        document.getElementById("profilename").innerHTML=document.getElementById("username").innerHTML
        document.getElementById("profilmail").innerHTML=localStorage.getItem("Mail")
    }

    function post() {
        var postdiv=document.createElement("div")
        postdiv.classList.add("well")
        postdiv.classList.add("con")

        var postavatar=document.createElement("img")
        postavatar.classList.add("img-circle")
        postavatar.setAttribute("src","info_img.jpg")
        postavatar.setAttribute("style","width: 50px; height: 50px;")
        postdiv.appendChild(postavatar)
        var postname=document.createElement("span")
        postname.innerHTML=" "+document.getElementById("username").innerHTML
        postdiv.appendChild(postname)
        postdiv.appendChild(document.createElement("br"))
        var posta=document.createElement("a")
        posta.innerHTML="43 followers"
        postdiv.appendChild(posta)
        postdiv.appendChild(document.createElement("hr"))
        var innerdiv=document.createElement("div")
        innerdiv.innerHTML=document.getElementById("postcontent").value
        postdiv.appendChild(innerdiv)

        document.getElementById("allpost").appendChild(postdiv)
    }

    //
    $("#change_btn").click(function() {
        $("#change_form").css("display", "block");
    });

    function closechange() {
        $("#change_form").css("display", "none");
        document.getElementById("userinfor").innerHTML=""
        document.getElementById("passwordinf").innerHTML=""
        document.getElementById("passwordinfo").innerHTML=""
        document.getElementById("mailinfo").innerHTML=""
    }

//  changeprofile
    function changeName(){
        var user=document.getElementById("iname").value;
        var userinfor=document.getElementById("userinfor");
        if(user.length<6 || user.length>20) {
            userinfor.style.color = "red";
            userinfor.innerHTML = "Name length range is 6-20!";
            return false
        }
        else {
            userinfor.innerHTML="";
            return true
        }
    }
    function changepass() { //含有字母和数字，密码长度6-16位
        var pass=document.getElementById("ipass").value;
        var pinfo=document.getElementById("passwordinfo");
        var r=pass.match(/[a-z,0-9]/g)
        if(pass.length<6 || pass.length>16){
            pinfo.style.color="red";
            pinfo.innerHTML="Password length is 6-16!";
            return false
        }
        else if(!r){
            pinfo.style.color="red";
            pinfo.innerHTML="Password must are character or number!";
            return false
        }
        else{
            pinfo.innerHTML="";
            return true

        }
    }
    function changePw(){
        var p=document.getElementById("ipass").value;
        var pass=document.getElementById("icpass").value;
        var pinfo=document.getElementById("passwordinf");
        if(pass!==p){
            pinfo.style.color="red";
            pinfo.innerHTML="Please input the same password!";
            return false
        }
        else if(!pass){
            pinfo.style.color="red";
            pinfo.innerHTML="Please input password!";
            return false
        }
        else {
            pinfo.innerHTML="";
            return true
        }
    }
    function changeMail(){
        var pass=document.getElementById("imail").value;
        var pinfo=document.getElementById("mailinfo");
        var r=pass.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/g)
        if(!r){
            pinfo.style.color="red";
            pinfo.innerHTML="Please input right mail!";
            return false
        }
        else{
            pinfo.innerHTML="";
            return true
        }
    }
    function rCheckAll() {
        if(changeMail() && changeName () && changepass() && changePw() ){
            localStorage.setItem("Username",document.getElementById("iname").value)
            localStorage.setItem("Password",document.getElementById("ipass").value)
            localStorage.setItem("Mail",document.getElementById("imail").value)
            alert("Change success!!!")
            window.location.reload()
            $("#register_form").css("display", "none");
            $("#login_form").css("display", "block");
        }
        else{
            alert("Please input the right information!!!")
        }
    }
</script>
</body>
</html>